#!/usr/bin/env ruby
# -*- coding: utf-8 -*-
require 'rubygems'
$:.unshift File.dirname(__FILE__)+'/../lib/'

require 'gyazz-markup'

base, input, output = ARGV[0..2]
unless input
  STDERR.puts "gyazz-markup 増井 input.txt"
  STDERR.puts "gyazz-markup 増井 input.txt output.html"
  exit 1
end

html = GyazzMarkup.markup(base, open(input).read)

if output
  open(output, 'w+') do |f|
    f.write html
  end
else
  puts html
end
