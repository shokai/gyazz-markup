#!/usr/bin/env ruby
# -*- coding: utf-8 -*-
$:.unshift File.expand_path '../lib', File.dirname(__FILE__)
require 'rubygems'

require 'gyazz-markup'

input, wiki = ARGV[0..1]
unless input
  STDERR.puts "== gyazz-markup v#{GyazzMarkup::VERSION}"
  STDERR.puts
  STDERR.puts "  % gyazz-markup input.txt"
  STDERR.puts "  % gyazz-markup input.txt WIKINAME"
  exit 1
end

puts '<style type="text/css">'
0.upto(5).each do |i|
  puts ".gyazz_indent#{i}{ margin-left : #{i*20}px; }"
end
puts '</style>'
puts GyazzMarkup::Markup.new(:wiki => wiki, :indent => :div).markup(open(input).read)
